<hr>
<div align="center">
 
[**üîô Atr√°s**](../3.md) | [**üìú √çndice**](../../README.md) | [**üëâ Siguiente**](../3.2/3.2.md)

</div>
<hr>

# 3.1. M√≥dulo 1 : Gesti√≥n de Usuarios y Accesos
# Requerimientos de m√≥dulos por casos de usos

| Requerimiento | Nombre |
|---------------|--------|
| R001 | Registro de nuevos usuarios |
| R002 | Autenticaci√≥n de usuarios |
| R003 | Asignaci√≥n y modificaci√≥n de roles|
| R004 | Gesti√≥n de permisos por rol|
| R005 | Visualizaci√≥n y b√∫squeda de usuarios|
| R006 | Recuperaci√≥n de contrase√±a|


## Especificaciones de requerimientos <br>
### Caso de Uso #1: Registro de nuevos usuarios

| C√≥digo | R001 |
|--------|------|
| **Objetivo** | Permitir al administrador registrar nuevos usuarios en la plataforma, asign√°ndoles un id de usuario, contrase√±a temporal, rol y estado. |
| **Descripci√≥n** | Este caso de uso permite al administrador registrar nuevos usuarios, validando la informaci√≥n ingresada y asignando roles espec√≠ficos. El sistema debe enviar un correo al usuario con una contrase√±a temporal. |
| **Actor** | Administrador del sistema |
| Flujo de Eventos |
| 1 | El administrador accede al m√≥dulo de Gesti√≥n de Usuarios. |
| 2 | Selecciona la opci√≥n ‚ÄúRegistrar nuevo usuario‚Äù. |
| 3 | Ingresa los datos requeridos: nombre completo, correo personal, rol y estado del usuario. |
| 4 | El sistema valida los datos (correo √∫nico, formato correcto). |
| 5 | El sistema crea el usuario y asigna la contrase√±a temporal. |
| 6 | El sistema env√≠a un correo al usuario con las credenciales temporales. |
| 7 | El usuario puede iniciar sesi√≥n y cambiar la contrase√±a en su primer acceso. |



### Caso de Uso #2: Autenticaci√≥n de usuarios

| C√≥digo | R002 |
|--------|------|
| **Objetivo** | Permitir que los usuarios registrados inicien sesi√≥n de forma segura mediante credenciales v√°lidas. |
| **Descripci√≥n** | Este caso de uso permite a los usuarios registrados acceder al sistema de manera segura utilizando un nombre de usuario y una contrase√±a v√°lidos. El sistema valida las credenciales y permite el acceso a los m√≥dulos seg√∫n los permisos asignados. |
| **Actor** | Usuario registrado |
| **Flujo de Eventos** |
| 1 | El usuario accede a la p√°gina de inicio de sesi√≥n del sistema. |
| 2 | El usuario ingresa su nombre de usuario y contrase√±a. |
| 3 | El sistema valida las credenciales ingresadas. |
| 4 | Si las credenciales son correctas, el sistema permite el acceso y redirige al usuario a la p√°gina principal del sistema. |
| 5 | Si las credenciales son incorrectas, el sistema muestra un mensaje de error e impide el acceso. |
| 6 | El sistema puede ofrecer la opci√≥n de restablecer la contrase√±a si el usuario olvida la misma. |





### Caso de Uso #3: Asignaci√≥n y modificaci√≥n de roles

| C√≥digo | R003 |
|--------|------|
| **Objetivo** | Permitir al administrador asignar o modificar el rol de un usuario registrado seg√∫n su funci√≥n. |
| **Descripci√≥n** | Este caso de uso permite al administrador asignar un rol a un nuevo usuario o modificar el rol de un usuario ya registrado, de acuerdo con sus funciones y responsabilidades dentro de la organizaci√≥n. |
| **Actor** | Administrador del sistema |
| Flujo de Eventos |
| 1 | El administrador accede al m√≥dulo de gesti√≥n de usuarios. |
| 2 | El administrador selecciona un usuario de la lista de usuarios registrados. |
| 3 | El administrador selecciona la opci√≥n para asignar o modificar el rol del usuario. |
| 4 | El administrador elige el nuevo rol para el usuario de las opciones disponibles (trabajador, supervisor, contratista, etc.). |
| 5 | El sistema actualiza el perfil del usuario con el nuevo rol. |



### Caso de Uso #4: Gesti√≥n de permisos por rol

### Caso de Uso #4: Gesti√≥n de roles y permisos

| C√≥digo | R004 |
|--------|------|
| **Objetivo** | Crear, definir y administrar los roles y sus permisos de acceso dentro del sistema. |
| **Descripci√≥n** | Este caso de uso permite al administrador gestionar los roles del sistema. Existen cinco roles predeterminados que no pueden ser eliminados (Administrador, Gerente, Trabajador, Inspector y Supervisor). Adem√°s, el administrador puede crear roles adicionales, asignarles permisos espec√≠ficos, modificarlos o eliminarlos si es necesario. |
| **Actor** | Administrador del sistema |
| Flujo de Eventos |
| 1 | El administrador accede al m√≥dulo de gesti√≥n de roles y permisos. |
| 2 | El sistema muestra los cinco roles predeterminados, los cuales no pueden ser eliminados ni modificados en cuanto a nombre. |
| 3 | El administrador puede crear un nuevo rol adicional, asign√°ndole un nombre representativo. |
| 4 | Al crear un nuevo rol, el administrador selecciona los permisos que desea asignarle. |
| 5 | El sistema guarda el nuevo rol junto con sus permisos asignados. |
| 6 | El administrador puede seleccionar un rol adicional ya existente para modificar sus permisos. |
| 7 | El administrador visualiza las funciones disponibles para ese rol en el sistema. |
| 8 | El administrador selecciona qu√© permisos otorgar o revocar para el rol seleccionado. |
| 9 | El sistema guarda los cambios realizados en los permisos del rol. |
| 10 | El administrador puede eliminar cualquier rol adicional creado previamente, excepto los cinco predeterminados. |
| 11 | El administrador puede consultar los permisos actuales asignados a cada rol en cualquier momento. |


### Caso de Uso #5: Visualizaci√≥n y b√∫squeda de usuarios

| C√≥digo | R005 |
|--------|------|
| **Objetivo** | Permitir al administrador listar, buscar y filtrar usuarios registrados por diferentes criterios. |
| **Descripci√≥n** | Este caso de uso permite al administrador visualizar el listado completo de usuarios registrados en el sistema, realizar b√∫squedas y aplicar filtros seg√∫n diferentes criterios como nombre, rol o estado del usuario. |
| **Actor** | Administrador del sistema |
| Flujo de Eventos |
| 1 | El administrador accede al m√≥dulo de gesti√≥n de usuarios. |
| 2 | El administrador puede ver el listado completo de usuarios registrados. |
| 3 | El administrador utiliza la barra de b√∫squeda para filtrar usuarios por nombre, rol, estado u otros criterios. |
| 4 | El sistema muestra los resultados filtrados basados en los par√°metros seleccionados. |
| 5 | El administrador puede seleccionar un usuario espec√≠fico para ver detalles adicionales o modificar su informaci√≥n. |
| 6 | El administrador puede ordenar los resultados de b√∫squeda por diferentes columnas (por ejemplo, alfab√©ticamente o por fecha de registro). |
| 7 | El administrador puede actualizar los filtros de b√∫squeda en cualquier momento para refinar los resultados. |


### Caso de Uso #6: Recuperaci√≥n de contrase√±a

| C√≥digo | R006 |
|--------|------|
| **Objetivo** | Permitir que los usuarios puedan recuperar su contrase√±a en caso de olvido, mediante su ID de usuario o correo electr√≥nico. |
| **Descripci√≥n** | Este caso de uso permite que cualquier usuario registrado recupere su contrase√±a si la ha olvidado. El sistema ofrece dos m√©todos de recuperaci√≥n: a trav√©s del ID de usuario o del correo electr√≥nico. En ambos casos, el sistema valida la existencia del usuario y env√≠a un correo con instrucciones para restablecer la contrase√±a. |
| **Actor** | Usuario registrado |
| **Flujo de Eventos** |
| 1 | El usuario accede a la opci√≥n ‚Äú¬øOlvidaste tu contrase√±a?‚Äù en la p√°gina de inicio de sesi√≥n. |
| 2 | El sistema ofrece dos m√©todos: recuperar por ID de usuario o por correo electr√≥nico. |
| 3 | El usuario selecciona un m√©todo e ingresa el dato correspondiente. |
| 4 | El sistema valida la existencia del ID o correo en la base de datos. |
| 5 | Si los datos son v√°lidos, el sistema genera un enlace de recuperaci√≥n. |
| 6 | El sistema env√≠a un correo con el enlace de recuperaci√≥n de contrase√±a. |
| 7 | El usuario accede al enlace, ingresa una nueva contrase√±a y la confirma. |
| 8 | El sistema actualiza la contrase√±a y notifica que el cambio fue exitoso. |

# Prototipo ‚Äì Gesti√≥n de Usuarios y Roles

## üë®‚Äçüíº ADMINISTRADOR
![Registrar Usuario](/Images/Prototipo/Usuarios/usuarios-administrador.png)
---

### üñ•Ô∏è Pantalla: Iniciar Sesi√≥n

![Iniciar Sesi√≥n](/Images/Prototipo/Usuarios/Usuarios-inicio-sesion.png)

---

![Iniciar Sesi√≥n](/Images/Prototipo/Usuarios/Usuarios-inicio-sesion-invalido.png)
**Descripci√≥n:**  
Pantalla de acceso al sistema mediante credenciales de usuario. Permite ingresar el nombre de usuario y la contrase√±a. En caso de datos incorrectos, se muestra un mensaje indicando "Acceso inv√°lido, intente otra vez".

- **Requerimiento asociado:** R002 - Autenticaci√≥n de usuarios  
- **Entidades involucradas:** Usuario  
- **Notas de rendimiento:** Proceso ligero, validaci√≥n r√°pida con la base de datos.

---

### üñ•Ô∏è Pantalla: Recuperar Contrase√±a

![Recuperar Contrase√±a](/Images/Prototipo/Usuarios/Usuarios-Recuperar-Contrase√±a-1.png)

**Descripci√≥n:**  
Pantalla para recuperar el acceso al sistema. Solicita al usuario ingresar su ID de usuario o correo electr√≥nico. Si la informaci√≥n es v√°lida, se env√≠a un correo con instrucciones para restablecer la contrase√±a.

- **Requerimiento asociado:** R006 - Recuperaci√≥n de contrase√±a  
- **Entidades involucradas:** Usuario  
- **Notas de rendimiento:**  Validaci√≥n de datos y env√≠o de correo seguro.

---

### üñ•Ô∏è Pantalla: Confirmaci√≥n de Recuperaci√≥n

![Confirmaci√≥n Recuperaci√≥n](/Images/Prototipo/Usuarios/Usuarios-Recuperar-Contrase√±a-2.png)

**Descripci√≥n:**  
Se muestra un mensaje informativo indicando que, si se ha suministrado un ID de usuario o correo correcto, se deber√≠a haber enviado un correo electr√≥nico con las instrucciones para recuperar la contrase√±a. Se incluye un mensaje adicional que sugiere contactar al administrador en caso de seguir teniendo problemas.

- **Requerimiento asociado:** R006 - Recuperaci√≥n de contrase√±a  
- **Entidades involucradas:** Usuario  
- **Notas de rendimiento:** Pantalla est√°tica, sin procesamiento intensivo.

---



### üñ•Ô∏è Pantalla: Registrar Usuario

![Registrar Usuario](/Images/Prototipo/Usuarios/Usuarios-Registro-Nuevos-Usuarios.png)

**Descripci√≥n:**  
Formulario para registrar un nuevo usuario en el sistema. El administrador ingresa los datos b√°sicos: nombre completo, correo, asigna un rol y define el estado del usuario. Al presionar "Guardar", el sistema genera autom√°ticamente un ID y una contrase√±a temporal, enviando estas credenciales al correo del usuario.

- **Requerimiento asociado:** R001 - Registro de nuevos usuarios  
- **Entidades involucradas:** Usuario, Rol  
- **Notas de rendimiento:** Validaci√≥n de datos de entrada y generaci√≥n de credenciales.

---

### üñ•Ô∏è Pantalla: Confirmaci√≥n de Registro

![Confirmaci√≥n de Registro](/Images/Prototipo/Usuarios/Usuarios-Registro-Nuevos-Usuarios-Confirmacion.png)

**Descripci√≥n:**  
Muestra un mensaje de confirmaci√≥n informando que el nuevo usuario ha sido registrado exitosamente. Se visualiza la ID generada y la contrase√±a temporal, adem√°s del aviso de que las credenciales se han enviado al correo del usuario.

- **Requerimiento asociado:** R001 - Registro de nuevos usuarios  
- **Entidades involucradas:** Usuario  
- **Notas de rendimiento:** Emergente informativa (solo lectura).

---

### üñ•Ô∏è Pantalla: Primer Inicio de Sesi√≥n ‚Äì Cambio de Contrase√±a

![Cambio de Contrase√±a](/Images/Prototipo/Usuarios/Usuarios-Establecer-Contrase√±a.png)

**Descripci√≥n:**  
Pantalla para que el usuario nuevo, al iniciar sesi√≥n por primera vez, establezca una contrase√±a definitiva. El formulario incluye un campo para la nueva contrase√±a y otro para la confirmaci√≥n.

- **Requerimiento asociado:** R002 - Autenticaci√≥n / Cambio de contrase√±a (primer acceso)
- **Entidades involucradas:** Usuario  
- **Notas de rendimiento:** Validaci√≥n sencilla de campos (coincidencia de contrase√±as, seguridad).

---

### üñ•Ô∏è Pantalla: Confirmaci√≥n de Cambio de Contrase√±a

![Confirmaci√≥n de Cambio](/Images/Prototipo/Usuarios/Usuarios-Confirmacion-Nueva-Contrase√±a.png)

**Descripci√≥n:**  
Mensaje de confirmaci√≥n que informa que la contrase√±a ha sido actualizada con √©xito y que el usuario ya puede iniciar sesi√≥n de manera normal en el sistema.

- **Requerimiento asociado:** R002 - Autenticaci√≥n / Cambio de contrase√±a (primer acceso)
- **Entidades involucradas:** Usuario  
- **Notas de rendimiento:** Emergente est√°tica, sin carga intensiva.

---

### üñ•Ô∏è Pantalla: Buscar Usuarios

![Buscar Usuarios](/Images/Prototipo/Usuarios/Usuarios-Busqueda.png)

**Descripci√≥n:**  
Permite al administrador listar, buscar y filtrar los usuarios registrados. La interfaz incluye:
- Un campo de b√∫squeda para filtrar por nombre.
- Opciones de filtro por rol y estado.
- Una tabla que muestra los campos: ID, Nombre, Apellido Paterno, Rol, Estado y Fecha de Registro.
- Botones para editar o eliminar el usuario seleccionado.

- **Requerimiento asociado:** R005 - Visualizaci√≥n y b√∫squeda de usuarios  
- **Entidades involucradas:** Usuario, Rol  
- **Notas de rendimiento:** Se recomienda la paginaci√≥n y un sistema de b√∫squeda indexada.

---

### üñ•Ô∏è Pantalla: Editar Usuario

![Editar Usuario](/Images/Prototipo/Usuarios/Usuarios-Busqueda-editar-Usuario.png)

**Descripci√≥n:**  
Formulario para editar los datos de un usuario existente. Permite modificar el rol y el estado del usuario. Los datos actuales se cargan para facilitar la edici√≥n.

- **Requerimiento asociado:** R003 - Asignaci√≥n y modificaci√≥n de roles  
- **Entidades involucradas:** Usuario, Rol  
- **Notas de rendimiento:** Validaciones de cambios, especialmente para roles.

---

### üñ•Ô∏è Pantalla: Confirmaci√≥n de Eliminaci√≥n de Usuario

![Confirmar Eliminaci√≥n](/Images/Prototipo/Usuarios/Usuarios-Eliminar-Usuarios.png)

**Descripci√≥n:**  
Pantalla que solicita la confirmaci√≥n antes de eliminar a un usuario. Se muestra un mensaje del tipo "¬øEst√° seguro de eliminar este usuario?" junto con opciones para confirmar o cancelar la operaci√≥n.

- **Requerimiento asociado:** Parte de R005 - Visualizaci√≥n y b√∫squeda de usuarios (acci√≥n de eliminar)
- **Entidades involucradas:** Usuario  
- **Notas de rendimiento:** Confirmaci√≥n previa a la eliminaci√≥n (previene borrados accidentales).

---

### üñ•Ô∏è Pantalla: Configurar Roles

![Configurar Roles](/Images/Prototipo/Usuarios/Usuarios-Configuracion-Rol.png)
**Descripci√≥n:**  
Pantalla que muestra una tabla con todos los roles del sistema, distinguiendo los cinco roles predeterminados (Administrador, Gerente, Trabajador, Inspector y Supervisor) ‚Äîlos cuales no pueden eliminarse ni renombrarse‚Äî y los roles adicionales creados por el administrador. Para cada rol se listan los permisos asociados. Desde esta vista el administrador puede:

- Crear nuevos roles asign√°ndoles un nombre y un conjunto de permisos.
- Modificar los permisos de cualquier rol (predeterminados o adicionales), manteniendo fijo el nombre de los roles base.
- Eliminar √∫nicamente los roles adicionales que haya creado.

- **Requerimiento asociado:** R004 - Gesti√≥n de roles y permisos  
- **Entidades involucradas:** Rol, Permiso
- **Notas de rendimiento:** Consulta directa de roles y permisos; no requiere procesos intensivos.  

---

### üñ•Ô∏è Pantalla: Editar Rol

![Editar Rol](/Images/Prototipo/Usuarios/Usuarios-Configuracion-Roles-Editar-Rol.png)

**Descripci√≥n:**  
Formulario para modificar la configuraci√≥n de un rol. Permite activar o desactivar permisos espec√≠ficos asociados al rol, mediante  interruptores.

- **Requerimiento asociado:** R004 - Gesti√≥n de permisos por rol (edici√≥n)  
- **Entidades involucradas:** Rol, Permiso  
- **Notas de rendimiento:** Validaci√≥n de coherencia de permisos, escritura moderada en la base de datos.

---

### üñ•Ô∏è Pantalla: Crear Rol

![Crear Rol](/Images/Prototipo/Usuarios/Usuarios-Configuracion-Roles-Crear-Rol.png)
![Configurar Roles](/Images/Prototipo/Usuarios/Usuarios-Configuracion-Rol-2.png)
**Descripci√≥n:**  
Pantalla que permite al administrador crear un nuevo rol dentro del sistema. Debe asignar un nombre √∫nico para el rol y seleccionar, mediante interruptores, los permisos que desea asociar al nuevo rol. Una vez guardado, el nuevo rol aparecer√° en la pantalla de configuraci√≥n de roles y podr√° ser modificado o eliminado posteriormente.

- **Requerimiento asociado:** R004 - Gesti√≥n de roles y permisos  
- **Entidades involucradas:** Rol, Permiso
- **Notas de rendimiento:** Asignaci√≥n m√∫ltiple de permisos para el rol.  
---

### üóëÔ∏è Pantalla: Confirmar Eliminaci√≥n de Rol

![Confirmar Eliminaci√≥n](/Images/Prototipo/Usuarios/Usuarios-Configuracion-confirmar-eliminar-rol.png)
![Confirmar Eliminaci√≥n](/Images/Prototipo/Usuarios/Usuarios-Configuracion-confirmar-eliminar-rol-2.png)

**Descripci√≥n:**  
Pantalla emergente o modal de confirmaci√≥n que aparece cuando el administrador intenta eliminar un rol. Se muestra el nombre del rol seleccionado y una advertencia. Solo se permite eliminar roles creados por el administrador (los roles base no pueden eliminarse).

- **Requerimiento asociado:** R004 - Gesti√≥n de roles y permisos  
- **Entidades involucradas:** Rol
- **Notas de rendimiento:** Verificaci√≥n previa del tipo de rol antes de proceder con la eliminaci√≥n. 