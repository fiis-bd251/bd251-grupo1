-<hr>
<div align="center">
 
[**üîô Atr√°s**](../3.6/3.6.md) | [**üìú √çndice**](../../README.md)

</div>
<hr>

# 3.7. Gesti√≥n de Reportes

| Requerimiento | Nombre                                   |
|---------------|----------------------------------------- |
| R036          | Generar reportes                         |
| R037          | Visualizar resultados en formato tabular |
| R038          | Filtrar Reportes                         |
| R039          | Editar Reportes                          |
| R040          | Panel Indicadores                        |
| R041          | Historial de Reportes Generados          |
| R042          | Exportar reportes                        |
| R043          | Programar Envio Automatico               |

## üéØ R036 - Generar reportes
### üìù Caso de Uso

| Campo       | Descripcion |
|--------------|------|
| **Nombre** | Generar reportes |
| **Tarea realizada** | Ingresar datos relacioandos al evento o actividad y registrarlos como reporte. |
| **Actor iniciador** | Supervisor HSE |
| **Actor principales** | Supervisor HSE <br> Sistema de Gesti√≥n de Reportes |
| **Flujo de eventos** | 1. El usuario accede al formulario	 <br> 2. Llena campos requeridos <br> 3.Da click en "Agregar Reporte". |
| **Excepciones** | Campos obligatorios no llenados, fechas invalidas, datos inconsistentes. |
| **Precondicion** | El usuario debe estar autenticado. |
| **Postcondici√≥n** | El informe se almacena correctamente en la base de datos. |
| **Casos de uso incluidos** | Validar datos del formulario, Guardar reporte. |
| **Requesito no funcional** | Tiempo de respuesta menor a 2x; Interfaz intuitiva; Validacion autom√°tica. |

---

## üéØ R037 - Visualizar resultados en formato tabular
### üìù Caso de Uso


| Campo       | Descripcion |
|--------------|------|
| **Nombre** | Visualizar resultados en formato tabular |
| **Tarea realizada** | Consultar resportes generados en forma de tabla. |
| **Actor iniciador** | Supervisor HSE |
| **Actor principales** | Supervisor HSE <br> Sistema de Gesti√≥n de Reportes |
| **Flujo de eventos** | 	1. El usuario accede a la seccion de resultados <br> 2. Se muestran los reportes generales en una tabla. |
| **Excepciones** | Problemas de carga, ausencia de datos, filtros incorrectos. |
| **Precondicion** | Reportes previamente generados. |
| **Postcondici√≥n** | Visualizacion ecitosa de los datos en formato estruturado. |
| **Casos de uso incluidos** | Aplicar filtros, Mostrar resultados, Validar estado de reporte. |
| **Requesito no funcional** | Visualizacion responsiva, interfaz clara, carga en <2s. |

---

## üéØ R038 -  Filtrar Reportes
### üìù Caso de Uso


| Campo       | Descripcion |
|--------------|------|
| **Nombre** | Filtrar Reportes |
| **Tarea realizada** | El usuario utiliza filtros para buscar informes por fechas, tipo de trabajo o palabra clave. |
| **Actor iniciador** | Supervisor HSE |
| **Actor principales** | Supervisor HSE  |
| **Flujo de eventos** | 	1. Usuario abre la seccion "Reportes registrados" <br> 2. Aplicar filtros <br> 3. Visualiza resultados filtrados |
| **Excepciones** | No resultados que coincidan con los filtros. |
| **Precondicion** | Deben de existir reportes registrados.|
| **Postcondici√≥n** | Se muestran solo los reportes que cumples los criterios. |
| **Casos de uso incluidos** | Carga de lista, paginacion de resultados. |
| **Requesito no funcional** | B√∫squeda √°gil, respuesta menor a 3 segundos, respuesta clara. |

---

## üéØ R039 - Editar Reportes
### üìù Caso de Uso


| Campo       | Descripcion |
|--------------|------|
| **Nombre** | Editar Reportes |
| **Tarea realizada** | El usuario accede a un reporte registrado y actualiza su contenido. |
| **Actor iniciador** | Supervisor HSE |
| **Actor principales** | Supervisor HSE |
| **Flujo de eventos** | 	1. El usuario selecciona <br> 2. Hace click en "Editar" <br> 3. Modifica la informacion <br> 4. Hace click en "Enviar" |
| **Excepciones** | No selecciona ningun reporte o ingresa datos invalidos. |
| **Precondicion** | Debe existir al menos un informe previamente registrado. |
| **Postcondici√≥n** | El reporte se actualiza correctamente en el sistema. |
| **Casos de uso incluidos** | Validacion de campos, carga de datos anteriores. |
| **Requesito no funcional** | Confirmacion visual de guardado, tiempo de respuesta rapida (2s). |

---

## üéØ R040 - Panel de Indicadores
### üìù Caso de Uso

| Campo       | Descripcion |
|--------------|------|
| **Nombre** | Panel de Indicadores |
| **Tarea realizada** | Visualizar estad√≠sticas e indicadores gr√°ficos basados en los reportes generados. |
| **Actor iniciador** | Supervisor HSE |
| **Actor principales** | Supervisor HSE <br> Sistema de Gesti√≥n de Reportes |
| **Flujo de eventos** | 	1. Clic en ‚ÄúIr al panel de indicadores‚Äù <br> 2. Visualiza gr√°ficos por tipo de √°rea, evento y tendencia mensual |
| **Excepciones** | Problemas de carga, datos insuficientes, error en gr√°ficos din√°micos. |
| **Precondicion** | Deben existir reportes generados con los campos completos. |
| **Postcondici√≥n** | Visualizaci√≥n efectiva de indicadores para an√°lisis. |
| **Casos de uso incluidos** | Aplicar filtros, Buscar por fecha o √°rea, Mostrar estado del reporte. |
| **Requesito no funcional** | Interfaz fluida, filtros r√°pidos, accesibilidad desde distintos dispositivos. |

---


## üéØ R041 - Historial de Reportes Generados
### üìù Caso de Uso


| Campo       | Descripcion |
|--------------|------|
| **Nombre** | Historial de Reportes Generados |
| **Tarea realizada** | Consulte el listado completo de todos los reportes previamente registrados. |
| **Actor iniciador** | Supervisor HSE |
| **Actor principales** | Supervisor HSE <br> Sistema de Gesti√≥n de Reportes |
| **Flujo de eventos** | 	1. El usuario accede a "Historial"  <br> 2. Se cargan todos los reportes con detalles  |
| **Excepciones** | Fallo en la base de datos, filtros err√≥neos. |
| **Precondicion** | Reportes previamente almacenados. |
| **Postcondici√≥n** | Visualizacion correcta de historial de reportes. |
| **Casos de uso incluidos** | Validacion de correo, conecion SMTP. |
| **Requesito no funcional** | Graficos din√°micos, interpretacion clara, esportacion disponible. |

---

## üéØ R042 - Exportar reportes
### üìù Caso de Uso

| Campo       | Descripcion |
|--------------|------|
| **Nombre** | Exportar reportes |
| **Tarea realizada** | Descargar reportes en formatos como PDF o Excel. |
| **Actor iniciador** | Supervisor HSE |
| **Actor principales** | Supervisor HSE <br> Sistema de Gesti√≥n de Reportes |
| **Flujo de eventos** | 	1. El usuario da click en "Exportar a PDF" o "Exportar a Excel" <br> 2. El sistema genera el archivo correspondiente |
| **Excepciones** | Error de formato, permisos de escritura, interrupciones de red. |
| **Precondicion** | Seleciion de reporte(s) para exportar. |
| **Postcondici√≥n** | Reporte exportado y descargado en formato seleccionado. |
| **Casos de uso incluidos** | Validad formato, Gnerar archivo, Confirma descarga. |
| **Requesito no funcional** | Compatibilidad con Excel/PDF, descarga rapida, nombres de archivo automaticos. |

---

## üéØ R043 - Programar Envio Automatico
### üìù Caso de Uso


| Campo       | Descripcion |
|--------------|------|
| **Nombre** | Programar Envio Automatico |
| **Tarea realizada** | El usuario programa el envio de reportes por correo electronico en fecha determinada. |
| **Actor iniciador** | Supervisor HSE |
| **Actor principales** | Supervisor HSE |
| **Flujo de eventos** | 	1. El usuario hace click en "Programar envio automatico" <br> 2. Defina destinatarios, frecuencia, filtros  <br> 3. Guarda configuracion|
| **Excepciones** | Correos invalidos, programacion sin informes disponibles. |
| **Precondicion** | Temer informes cargados y acceso al modulo. |
| **Postcondici√≥n** | El sistema enviara automaticamente los reportes segun programacion. |
| **Casos de uso incluidos** | Validaci√≥n de correo, seleccion de periocidad. |
| **Requesito no funcional** | Seguridad en el envio (TLS), disponibilidad 99%, interfaz intuitiva. |

---

# Prototipo

## Dashboard Supervisor
### üìå  Requerimientos Asociados:
- Generar Reportes
- Ver Historial de Reportes
- Exportar Reportes
- Visualizar Panel de Indicadores
- Programar Env√≠o Autom√°tico

### üñºÔ∏è Inagen de la interfaz
Interfaz principal del sistema donde el usuario selecciona qu√© acci√≥n desea realizar. Se presentan cinco tarjetas o botones con √≠conos que enlazan a los m√≥dulos de: generaci√≥n de reportes, historial, exportaci√≥n, indicadores y programaci√≥n de env√≠os.

<p align="center">
  <img src="https://github.com/fiis-bd251/bd251-grupo1/blob/Nelson0301-patch-1/Images/Panel%20de%20Inicio%20de%20Reportes.png">
</p>

### üß© Principales entidades involucradas:
-Usuario<br>
-Reporte<br>
-ProgramacionEnvio

### ‚öôÔ∏è Notas de rendimiento o carga del proceso:
- No se ejecutan consultas ni procesamiento de datos al iniciar esta pantalla.
- La interacci√≥n es inmediata, ya que solo sirve como punto de entrada hacia los dem√°s m√≥dulos.
- Bajo impacto en rendimiento, ya que no maneja datos pesados ni procesos en segundo plano.

---

## Generar reporte
### üìå  Requerimientos Asociados:
- Registrar Reporte
- Validar Datos Obligatorios
- Clasificar Reporte por Tipo y √Årea

### üñºÔ∏è Inagen de la interfaz
Formulario donde el usuario ingresa los datos del nuevo reporte, como tipo de evento, fecha, √°rea de trabajo, descripci√≥n, evidencia adjunta, y responsable. Se incluye bot√≥n de ‚ÄúGuardar‚Äù y validaci√≥n de campos obligatorios.

<p align="center">
  <img src="https://github.com/fiis-bd251/bd251-grupo1/blob/Nelson0301-patch-1/Images/Generar%20reportes.png">
</p>

### üß© Principales entidades involucradas:
-Usuario <br>
-Reporte<br>
-ReporteCapacitacion <br>
-ReporteIncidencia 

### ‚öôÔ∏è Notas de rendimiento o carga del proceso:
- La validaci√≥n de campos se realiza del lado del cliente, reduciendo la carga en el servidor.
- No se presentan grandes vol√∫menes de informaci√≥n.
- No requiere procesamiento en lotes, pero es recomendable mantener consistencia en formatos y uso de cat√°logos predefinidos para evitar errores.

---

## Reportes Generados (Tabla de Resultados)
### üìå  Requerimientos Asociados:
- Visualizar Reportes Generados
- Buscar y Filtrar Reportes
- Acceder a Edici√≥n de Reporte

### üñºÔ∏è Inagen de la interfaz
Tabla din√°mica que muestra los reportes existentes. Contiene filtros por fecha, tipo, √°rea y estado. Incluye acci√≥n de ‚ÄúEditar‚Äù y/o ‚ÄúEliminar‚Äù.

<p align="center">
  <img src="https://github.com/fiis-bd251/bd251-grupo1/blob/Nelson0301-patch-1/Images/Reportes%20generados.png">
</p>

### üß© Principales entidades involucradas:
-Usuario <br>
-Reporte<br>
-ReporteCapacitacion <br>
-ReporteIncidencia 

### ‚öôÔ∏è Notas de rendimiento o carga del proceso:
- Posible carga significativa si la base de datos crece.
- Requiere paginaci√≥n, √≠ndices en base de datos y filtros eficientes para no degradar el rendimiento
- Es recomendable aplicar consultas por lotes o diferidas cuando se trabajan con grandes rangos de fechas.

---

## Editar Reporte
### üìå  Requerimientos Asociados:
- Modificar Informaci√≥n de Reporte
- Cambiar Estado del Reporte

### üñºÔ∏è Inagen de la interfaz
Formulario precargado con la informaci√≥n del reporte seleccionado. Permite modificar campos permitidos y guardar los cambios. 

<p align="center">
  <img src="https://github.com/fiis-bd251/bd251-grupo1/blob/Nelson0301-patch-1/Images/Editar%20reportes.png">
</p>

### üß© Principales entidades involucradas:
-Usuario<br>
-Reporte<br>
-ReporteCapacitacion<br>
-ReporteIncidencia<br>
-AccionCorrectiva

### ‚öôÔ∏è Notas de rendimiento o carga del proceso:
- La carga es baja ya que se manipula un √∫nico registro.
- Es importante considerar validaci√≥n de edici√≥n simult√°nea o conflictos en concurrencia.
- BSe recomienda registrar cambios en una tabla de historial para trazabilidad.

---

## Historial de Reportes Generados
### üìå  Requerimientos Asociados:
- Historial de Reportes Generados
- Filtrar por Periodo, Tipo o Estado
- Visualizar Detalles de Reportes Pasados

### üñºÔ∏è Inagen de la interfaz
Lista con todos los reportes hist√≥ricos accesibles al usuario. Permite b√∫squedas avanzadas y vista detallada del contenido de cada reporte. 

<p align="center">
  <img src="https://github.com/fiis-bd251/bd251-grupo1/blob/Nelson0301-patch-1/Images/Historial%20de%20reportes%20generados.png">
</p>

### üß© Principales entidades involucradas:
-Usuario<br>
-ReporteCapacitacion<br>
-ReporteIncidencia<br>

### ‚öôÔ∏è Notas de rendimiento o carga del proceso:
- Volumen potencialmente alto de datos almacenados.
- Necesaria optimizaci√≥n mediante paginaci√≥n, filtros eficientes y consultas con √≠ndices.
- Se puede considerar archivado por periodos o almacenamiento segmentado.

---

## Panel de Indicadores
### üìå  Requerimientos Asociados:
- Visualizar Indicadores por √Årea o Tipo
- Exportar Indicadores a PDF o Excel
- Analizar Tendencias Temporales

### üñºÔ∏è Inagen de la interfaz
Dashboard visual con gr√°ficos y m√©tricas resumidas. Incluye botones para exportar a PDF o Excel. Representaci√≥n de datos por √°reas, responsables y fechas, para el caso de visualizar la tendencias mensuales, asi como tambien permite volver al historial en el caso que se necesite observar a mas detalle los reportes, para luego de estar seguro exportarlo en formato PDF o excel.

<p align="center">
  <img src="https://github.com/fiis-bd251/bd251-grupo1/blob/Nelson0301-patch-1/Images/Panel%20de%20indicadores.png">
</p>

### üß© Principales entidades involucradas:
-ReporteCapacitacion<br>
-ReporteIncidencia

### ‚öôÔ∏è Notas de rendimiento o carga del proceso:
- Carga alta si los indicadores se generan en tiempo real.
- Recomendable implementar procesos por lotes o prec√°lculo de KPIs.
- Exportaciones pueden ejecutarse como tareas en segundo plano para evitar bloqueo de la interfaz.

---

## Programar Env√≠o Autom√°tico
### üìå  Requerimientos Asociados:
- Configurar Env√≠o Autom√°tico de Reportes
- Seleccionar Frecuencia, Destinatarios y estado

- Analizar Tendencias Temporales

### üñºÔ∏è Inagen de la interfaz
Formulario con opciones para definir la frecuencia o periodicidad (diario, semanal, mensual), el area de trabajo, el estado, el rango de fechas y el correo del destinatario. 

<p align="center">
  <img src="https://github.com/fiis-bd251/bd251-grupo1/blob/Nelson0301-patch-1/Images/Porgramar%20envio%20automatico.png">
</p>

### üß© Principales entidades involucradas:
-Usuario<br>
-Reporte<br>
-ReporteCapacitacion<br>
-ReporteIncidencia<br>
-ProgramacionEnvio

### ‚öôÔ∏è Notas de rendimiento o carga del proceso:
- Interfaz liviana, pero la l√≥gica de env√≠o debe ejecutarse en segundo plano.
- Es crucial una buena gesti√≥n de cron jobs o colas de procesamiento.
- Validaciones de formato de correo y manejo de errores de env√≠o son necesarios para confiabilidad del sistema.










