<hr>
<div align="center">
 
[**ğŸ”™ AtrÃ¡s**](../3.3/3.3.md) | [**ğŸ“œ Ãndice**](../../README.md) | [**ğŸ‘‰ Siguiente**](../3.5/3.5.md)

</div>
<hr>

# 3.4. MÃ³dulo de GestiÃ³n de Reportes
| Requerimiento | Nombre  |
|--------|--------------------------------|
| R025   | Generar Reportes  |
| R026   | Visualizar Resultados en Formato Tabular |
| R027   | Filtrar Reportes |
| R028   | Editar Reportes |
| R029   | Panel de Indicadores |
| R030   | Historial de Reportes Generados |
| R031   | Exportar Reportes |
| R032   | Programar EnvÃ­o AutomÃ¡tico |


## ğŸ¯ R025 - Generar Reportes
### ğŸ“ Caso de Uso

| Campo       | Descripcion |
|--------------|------|
| **Nombre** | Generar Reportes |
| **Tarea realizada** | Ingresar datos relacionados al evento o actividad y registrarlos como un reporte. |
| **Actor iniciador** | Supervisor HSE |
| **Actor principales** | 	Supervisor HSE <br> Sistema de GestiÃ³n de Reportes |
| **Flujo de eventos** | 1. El usuario accede al formulario <br> 2. Llena los campos requeridos <br> 3. Da clic en â€œAgregar Reporteâ€ |
| **Excepciones** | Campos obligatorios no llenados, fechas invÃ¡lidas, datos inconsistentes. |
| **Precondicion** | El usuario debe estar autenticado. |
| **PostcondiciÃ³n** | El reporte es almacenado correctamente en la base de datos. |
| **Casos de uso incluidos** | Validar datos del formulario, Guardar reporte. |
| **Requesito no funcional** | Tiempo de respuesta menor a 2s; Interfaz intuitiva; ValidaciÃ³n automÃ¡tica. |

## ğŸ¯ R026 - Visualizar Resultados en Formato Tabular
### ğŸ“ Caso de Uso

| Campo       | Descripcion |
|--------------|------|
| **Nombre** | Visualizar Resultados de Reportes en Formato Tabular |
| **Tarea realizada** | Consultar reportes generados en forma de tabla |
| **Actor iniciador** | Supervisor HSE |
| **Actor principales** | Supervisor HSE <br> Sistema de GestiÃ³n de Reportes |
| **Flujo de eventos** | 1. El usuario accede a la secciÃ³n de resultados <br> 2. Se muestran los reportes generados en una tabla |
| **Excepciones** | Problemas de carga, ausencia de datos, filtros incorrectos. |
| **Precondicion** | Reportes previamente generados. |
| **PostcondiciÃ³n** | VisualizaciÃ³n exitosa de los datos en formato estructurado. |
| **Casos de uso incluidos** | Aplicar filtros, Mostrar resultados, Validar estado del reporte. |
| **Requesito no funcional** | VisualizaciÃ³n responsiva, interfaz clara, carga en < 2s. |

## ğŸ¯ R027 - Filtrar Reportes
### ğŸ“ Caso de Uso

| Campo       | Descripcion |
|--------------|------|
| **Nombre** | Editar Reportes |
| **Tarea realizada** | El usuario utiliza filtros para buscar reportes por fechas, tipo de evento, Ã¡rea de trabajo o palabra clave. |
| **Actor iniciador** | Supervisor HSE |
| **Actor principales** | Supervisor HSE |
| **Flujo de eventos** | 1. Usuario abre la secciÃ³n â€œReportes registradosâ€ <br> 2. Aplica filtros <br> 3. Visualiza resultados filtrados |
| **Excepciones** | No hay resultados que coincidan con los filtros. |
| **Precondicion** | Deben existir reportes registrados. |
| **PostcondiciÃ³n** | Se muestran solo los reportes que cumplen los criterios. |
| **Casos de uso incluidos** | Carga de lista, paginaciÃ³n de resultados. |
| **Requesito no funcional** | BÃºsqueda Ã¡gil, respuesta menor a 3 segundos, feedback claro. |

## ğŸ¯ R028 - Editar Reportes
### ğŸ“ Caso de Uso

| Campo       | Descripcion |
|--------------|------|
| **Nombre** | Editar Reportes |
| **Tarea realizada** | El usuario accede a un reporte registrado y actualiza su contenido. |
| **Actor iniciador** | Supervisor HSE |
| **Actor principales** | Supervisor HSE |
| **Flujo de eventos** | 1. Usuario selecciona un reporte de la tabla. <br> 2. Hace clic en â€œEditarâ€. <br> 3. Modifica la informaciÃ³n. <br> 4. Hace clic en â€œEnviarâ€. |
| **Excepciones** | No seleccionar ningÃºn reporte o ingresar datos invÃ¡lidos. |
| **Precondicion** | Debe existir al menos un reporte previamente registrado. |
| **PostcondiciÃ³n** | El reporte se actualiza correctamente en el sistema. |
| **Casos de uso incluidos** | 	ValidaciÃ³n de campos, carga de datos previos |
| **Requesito no funcional** | ConfirmaciÃ³n visual de guardado, tiempo de respuesta rÃ¡pido (< 2s). |

## ğŸ¯ R029 - Panel de Indicadores
### ğŸ“ Caso de Uso

| Campo       | Descripcion |
|--------------|------|
| **Nombre** | Panel de Indicadores |
| **Tarea realizada** | Visualizar estadÃ­sticas e indicadores grÃ¡ficos basados en los reportes generados. |
| **Actor iniciador** | Supervisor HSE |
| **Actor principales** | Supervisor HSE <br> Sistema de GestiÃ³n de Reportes |
| **Flujo de eventos** | 	1. Clic en â€œIr al panel de indicadoresâ€ <br> 2. Visualiza grÃ¡ficos por tipo de Ã¡rea, evento y tendencia mensual |
| **Excepciones** | Problemas de carga, datos insuficientes, error en grÃ¡ficos dinÃ¡micos. |
| **Precondicion** | Deben existir reportes generados con los campos completos. |
| **PostcondiciÃ³n** | VisualizaciÃ³n efectiva de indicadores para anÃ¡lisis. |
| **Casos de uso incluidos** | Aplicar filtros, Buscar por fecha o Ã¡rea, Mostrar estado del reporte. |
| **Requesito no funcional** | Interfaz fluida, filtros rÃ¡pidos, accesibilidad desde distintos dispositivos. |

## ğŸ¯ R030 - Historial de Reportes Generados
### ğŸ“ Caso de Uso

| Campo       | Descripcion |
|--------------|------|
| **Nombre** | Historial de Reportes Generados |
| **Tarea realizada** | Consultar el listado completo de todos los reportes previamente registrados |
| **Actor iniciador** | Supervisor HSE |
| **Actor principales** | Supervisor HSE <br> Sistema de GestiÃ³n de Reportes |
| **Flujo de eventos** | 1. El usuario accede a â€œHistorialâ€ <br> 2. Se cargan todos los reportes con detalles |
| **Excepciones** | Fallo en la base de datos, filtros errÃ³neos. |
| **Precondicion** | Reportes previamente almacenados. |
| **PostcondiciÃ³n** | VisualizaciÃ³n correcta del historial de reportes. |
| **Casos de uso incluidos** | ValidaciÃ³n de correo, conexiÃ³n SMTP. |
| **Requesito no funcional** | GrÃ¡ficos dinÃ¡micos, interpretaciÃ³n clara, exportaciÃ³n disponible. |

## ğŸ¯ R031 - Exportar Reportes
### ğŸ“ Caso de Uso

| Campo       | Descripcion |
|--------------|------|
| **Nombre** | Exportar Reportes |
| **Tarea realizada** | Descargar reportes en formatos como PDF o Excel. |
| **Actor iniciador** | Supervisor HSE |
| **Actor principales** | Supervisor HSE <br> Sistema de GestiÃ³n de Reportes |
| **Flujo de eventos** | 1. El usuario da clic en â€œExportar a PDFâ€ o â€œExportar a Excelâ€ <br> 2. El sistema genera el archivo correspondiente |
| **Excepciones** | Error de formato, permisos de escritura, interrupciones de red |
| **Precondicion** | SelecciÃ³n de reporte(s) para exportar |
| **PostcondiciÃ³n** | Reporte exportado y descargado en formato seleccionado. |
| **Casos de uso incluidos** | Validar formato, Generar archivo, Confirmar descarga. |
| **Requesito no funcional** | Compatibilidad con Excel/PDF, descarga rÃ¡pida, nombres de archivo automÃ¡ticos. |

## ğŸ¯ R032 - Programar EnvÃ­o AutomÃ¡tico
### ğŸ“ Caso de Uso

| Campo       | Descripcion |
|--------------|------|
| **Nombre** | Programar EnvÃ­o AutomÃ¡tico |
| **Tarea realizada** | El usuario programa el envÃ­o de reportes por correo electrÃ³nico en fechas determinadas. |
| **Actor iniciador** | Supervisor HSE |
| **Actor principales** | Supervisor HSE |
| **Flujo de eventos** | 	1. Usuario hace clic en â€œProgramar envÃ­o automÃ¡ticoâ€ <br> 2. Define destinatarios, frecuencia, filtros <br> 3. Guarda configuraciÃ³n |
| **Excepciones** | Correos invÃ¡lidos, programaciÃ³n sin reportes disponibles. |
| **Precondicion** | Tener reportes cargados y acceso al mÃ³dulo. |
| **PostcondiciÃ³n** | El sistema enviarÃ¡ automÃ¡ticamente los reportes segÃºn programaciÃ³n. |
| **Casos de uso incluidos** | ValidaciÃ³n de correo, selecciÃ³n de periodicidad. |
| **Requesito no funcional** | Seguridad en el envÃ­o (TLS), disponibilidad 99%, interfaz intuitiva. |

# Prototipo

## Dashboard Supervisor
### ğŸ“Œ  Requerimientos Asociados:
- Generar Reportes
- Ver Historial de Reportes
- Exportar Reportes
- isualizar Panel de Indicadores
- Programar EnvÃ­o AutomÃ¡tico

### ğŸ–¼ï¸ Inagen de la interfaz
Interfaz principal del sistema donde el usuario selecciona quÃ© acciÃ³n desea realizar. Se presentan cinco tarjetas o botones con Ã­conos que enlazan a los mÃ³dulos de: generaciÃ³n de reportes, historial, exportaciÃ³n, indicadores y programaciÃ³n de envÃ­os.

<p align="center">
  <img src="https://github.com/fiis-bd251/bd251-grupo1/blob/Nelson0301-patch-1/Images/Panel%20de%20Inicio%20de%20Reportes.png">
</p>

### ğŸ§© Principales entidades involucradas:
-Usuario<br>
-ReporteCapacitacion<br>
-ReporteInduccion<br>
-ReporteInspeccion<br>
-ReporteIncidencia<br>
-ProgramacionEnvio

### âš™ï¸ Notas de rendimiento o carga del proceso:
- No se ejecutan consultas ni procesamiento de datos al iniciar esta pantalla.
- La interacciÃ³n es inmediata, ya que solo sirve como punto de entrada hacia los demÃ¡s mÃ³dulos.
- Bajo impacto en rendimiento, ya que no maneja datos pesados ni procesos en segundo plano.

...

## Generar reporte
### ğŸ“Œ  Requerimientos Asociados:
- Registrar Reporte
- Validar Datos Obligatorios
- Clasificar Reporte por Tipo y Ãrea

### ğŸ–¼ï¸ Inagen de la interfaz
Formulario donde el usuario ingresa los datos del nuevo reporte, como tipo de evento, fecha, Ã¡rea de trabajo, descripciÃ³n, evidencia adjunta, y responsable. Se incluye botÃ³n de â€œGuardarâ€ y validaciÃ³n de campos obligatorios.

<p align="center">
  <img src="https://github.com/fiis-bd251/bd251-grupo1/blob/Nelson0301-patch-1/Images/Generar%20reportes.png">
</p>

### ğŸ§© Principales entidades involucradas:
-Usuario <br>
-ReporteCapacitacion <br>
-ReporteInduccion <br>
-ReporteInspeccion <br>
-ReporteIncidencia <br>
-ProgramacionEnvio 

### âš™ï¸ Notas de rendimiento o carga del proceso:
- La validaciÃ³n de campos se realiza del lado del cliente, reduciendo la carga en el servidor.
- No se presentan grandes volÃºmenes de informaciÃ³n.
- No requiere procesamiento en lotes, pero es recomendable mantener consistencia en formatos y uso de catÃ¡logos predefinidos para evitar errores.

---

## Reportes Generados (Tabla de Resultados)
### ğŸ“Œ  Requerimientos Asociados:
- Visualizar Reportes Generados
- Buscar y Filtrar Reportes
- Acceder a EdiciÃ³n de Reporte

### ğŸ–¼ï¸ Inagen de la interfaz
Tabla dinÃ¡mica que muestra los reportes existentes. Contiene filtros por fecha, tipo, Ã¡rea y estado. Incluye acciÃ³n de â€œEditarâ€ y/o â€œEliminarâ€.

<p align="center">
  <img src="https://github.com/fiis-bd251/bd251-grupo1/blob/Nelson0301-patch-1/Images/Reportes%20generados.png">
</p>

### ğŸ§© Principales entidades involucradas:
-Usuario <br>
-ReporteCapacitacion <br>
-ReporteInduccion <br>
-ReporteInspeccion <br>
-ReporteIncidencia <br>
-ProgramacionEnvio

### âš™ï¸ Notas de rendimiento o carga del proceso:
- Posible carga significativa si la base de datos crece.
- Requiere paginaciÃ³n, Ã­ndices en base de datos y filtros eficientes para no degradar el rendimiento
- Es recomendable aplicar consultas por lotes o diferidas cuando se trabajan con grandes rangos de fechas.

---

## Editar Reporte
### ğŸ“Œ  Requerimientos Asociados:
- Modificar InformaciÃ³n de Reporte
- Cambiar Estado del Reporte

### ğŸ–¼ï¸ Inagen de la interfaz
Formulario precargado con la informaciÃ³n del reporte seleccionado. Permite modificar campos permitidos y guardar los cambios. 

<p align="center">
  <img src="https://github.com/fiis-bd251/bd251-grupo1/blob/Nelson0301-patch-1/Images/Editar%20reportes.png">
</p>

### ğŸ§© Principales entidades involucradas:
-Usuario<br>
-ReporteCapacitacion<br>
-ReporteInduccion<br>
-ReporteInspeccion<br>
-ReporteIncidencia<br>
-ProgramacionEnvio<br>
-AccionCorrectiva

### âš™ï¸ Notas de rendimiento o carga del proceso:
- La carga es baja ya que se manipula un Ãºnico registro.
- Es importante considerar validaciÃ³n de ediciÃ³n simultÃ¡nea o conflictos en concurrencia.
- BSe recomienda registrar cambios en una tabla de historial para trazabilidad.

---

## Historial de Reportes Generados
### ğŸ“Œ  Requerimientos Asociados:
- Historial de Reportes Generados
-  Filtrar por Periodo, Tipo o Estado
-  Visualizar Detalles de Reportes Pasados

### ğŸ–¼ï¸ Inagen de la interfaz
Lista con todos los reportes histÃ³ricos accesibles al usuario. Permite bÃºsquedas avanzadas y vista detallada del contenido de cada reporte. 

<p align="center">
  <img src="https://github.com/fiis-bd251/bd251-grupo1/blob/Nelson0301-patch-1/Images/Historial%20de%20reportes%20generados.png">
</p>

### ğŸ§© Principales entidades involucradas:
-Usuario<br>
-ReporteCapacitacion<br>
-ReporteInduccion<br>
-ReporteInspeccion<br>
-ReporteIncidencia<br>
-ProgramacionEnvio

### âš™ï¸ Notas de rendimiento o carga del proceso:
- Volumen potencialmente alto de datos almacenados.
- Necesaria optimizaciÃ³n mediante paginaciÃ³n, filtros eficientes y consultas con Ã­ndices.
- Se puede considerar archivado por periodos o almacenamiento segmentado.

---

## Panel de Indicadores
### ğŸ“Œ  Requerimientos Asociados:
- Visualizar Indicadores por Ãrea o Tipo
- Exportar Indicadores a PDF o Excel
- Analizar Tendencias Temporales

### ğŸ–¼ï¸ Inagen de la interfaz
Dashboard visual con grÃ¡ficos y mÃ©tricas resumidas. Incluye botones para exportar a PDF o Excel. RepresentaciÃ³n de datos por Ã¡reas, responsables y fechas, para el caso de visualizar la tendencias mensuales, asi como tambien permite volver al historial en el caso que se necesite observar a mas detalle los reportes, para luego de estar seguro exportarlo en formato PDF o excel.

<p align="center">
  <img src="https://github.com/fiis-bd251/bd251-grupo1/blob/Nelson0301-patch-1/Images/Panel%20de%20indicadores.png">
</p>

### ğŸ§© Principales entidades involucradas:
-ReporteCapacitacion<br>
-ReporteInduccion<br>
-ReporteInspeccion<br>
-ReporteIncidencia<br>
-ProgramacionEnvio

### âš™ï¸ Notas de rendimiento o carga del proceso:
- Carga alta si los indicadores se generan en tiempo real.
- Recomendable implementar procesos por lotes o precÃ¡lculo de KPIs.
- Exportaciones pueden ejecutarse como tareas en segundo plano para evitar bloqueo de la interfaz.

---

## Programar EnvÃ­o AutomÃ¡tico
### ğŸ“Œ  Requerimientos Asociados:
- Configurar EnvÃ­o AutomÃ¡tico de Reportes
- Seleccionar Frecuencia, Destinatarios y estado

- Analizar Tendencias Temporales

### ğŸ–¼ï¸ Inagen de la interfaz
Formulario con opciones para definir la frecuencia o periodicidad (diario, semanal, mensual), el area de trabajo, el estado, el rango de fechas y el correo del destinatario. 

<p align="center">
  <img src="https://github.com/fiis-bd251/bd251-grupo1/blob/Nelson0301-patch-1/Images/Porgramar%20envio%20automatico.png">
</p>

### ğŸ§© Principales entidades involucradas:
-Usuario<br>
-ReporteCapacitacion<br>
-ReporteInduccion<br>
-ReporteInspeccion<br>
-ReporteIncidencia<br>
-ProgramacionEnvio

### âš™ï¸ Notas de rendimiento o carga del proceso:
- Interfaz liviana, pero la lÃ³gica de envÃ­o debe ejecutarse en segundo plano.
- Es crucial una buena gestiÃ³n de cron jobs o colas de procesamiento.
- Validaciones de formato de correo y manejo de errores de envÃ­o son necesarios para confiabilidad del sistema.










